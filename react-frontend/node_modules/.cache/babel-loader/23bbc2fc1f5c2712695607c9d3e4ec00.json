{"ast":null,"code":"import _defineProperty from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import Facebook from'./components/Facebook';import React,{Component}from'react';import'./assets/style.css';import axios from'axios';var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);function Register(){var _this;_classCallCheck(this,Register);_this=_possibleConstructorReturn(this,_getPrototypeOf(Register).call(this));_this.state={username:'',email:'',password:'',currency:''};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Register,[{key:\"handleChange\",value:function handleChange(e){var target=e.target;var value=target.value;var name=target.name;this.setState(_defineProperty({},name,value));}},{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;// make API call\ne.preventDefault();axios.post('http://localhost:6200/users/register',this.state).then(function(res){axios.post('http://localhost:6200/users/login',{email:_this2.state.email,password:_this2.state.password}).then(function(response){localStorage.setItem(\"auth-token\",response.data.token);window.location.replace('/ChoixCrypto');}).catch(function(err){alert(err);});}).catch(function(error){alert(error);});}},{key:\"insertData\",value:function insertData(nonce){axios.get('http://wp.ruvictor.com/api/user/register/?username='+this.state.username+'&email='+this.state.email+'&password='+this.state.password).then(function(res){}).catch(function(error){console.log(error.response);});}},{key:\"getWPnonce\",value:function getWPnonce(){var _this3=this;axios.get('http://wp.ruvictor.com/api/get_nonce/?controller=user&method=register').then(function(res){_this3.insertData(res.data.nonce);}).catch(function(error){console.log(error.response);});}},{key:\"render\",value:function render(){console.log(this.state);return React.createElement(\"div\",{className:\"wrapper\"},React.createElement(\"div\",{className:\"form-wrapper\"},React.createElement(\"h1\",null,\"Create Account\"),React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"div\",{className:\"username\"},React.createElement(\"label\",{htmlFor:\"exampleInputEmail1\"},\"Nom d'utilisateur\"),React.createElement(\"input\",{name:\"username\",value:this.state.username,onChange:this.handleChange,type:\"text\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Votre Nom\"})),React.createElement(\"div\",{className:\"email\"},React.createElement(\"label\",{htmlFor:\"exampleInputEmail1\"},\"Adresse Mail\"),React.createElement(\"input\",{name:\"email\",value:this.state.email,onChange:this.handleChange,type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Adresse email\"})),React.createElement(\"div\",{className:\"password\"},React.createElement(\"label\",{htmlFor:\"exampleInputPassword1\"},\"Mot de Passe\"),React.createElement(\"input\",{name:\"password\",type:\"password\",value:this.state.password,onChange:this.handleChange,className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Mot De passe\"})),React.createElement(\"div\",{className:\"password\"},React.createElement(\"label\",{htmlFor:\"exampleInputPassword2\"},\"Confirmer Mot de passe\"),React.createElement(\"input\",{name:\"display_name2\",type:\"password\",onChange:this.handleConfirmPassword,className:\"form-control\",id:\"exampleInputPassword2\",placeholder:\"Mot de passe\"})),React.createElement(\"div\",{className:\"currency\"},React.createElement(\"label\",{htmlFor:\"exampleInputEmail1\"},\"Devise\"),React.createElement(\"input\",{name:\"currency\",value:this.state.currency,onChange:this.handleChange,type:\"text\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter Devise\"})),React.createElement(\"div\",{className:\"createAccount\"},React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Submit\"))),React.createElement(Facebook,null)));}}]);return Register;}(Component);export default Register;","map":{"version":3,"sources":["/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/src/Register.js"],"names":["Facebook","React","Component","axios","Register","state","username","email","password","currency","handleChange","bind","handleSubmit","e","target","value","name","setState","preventDefault","post","then","res","response","localStorage","setItem","data","token","window","location","replace","catch","err","alert","error","nonce","get","console","log","insertData","handleConfirmPassword"],"mappings":"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","sourcesContent":["\nimport Facebook from './components/Facebook';\n\nimport React, { Component } from 'react';\nimport './assets/style.css';\nimport axios from 'axios';\n\nclass Register extends Component {\n\n  constructor(){\n    super();\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n      currency:''\n      \n      };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n\n  handleChange(e){\n    let target = e.target;\n    let value = target.value;\n    let name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n  handleSubmit(e){\n   \n    // make API call\n    e.preventDefault()\n    axios.post('http://localhost:6200/users/register',this.state)\n    .then(res =>{\n        axios.post('http://localhost:6200/users/login', {email:this.state.email, password:this.state.password})\n        .then(response =>{\n          localStorage.setItem(\"auth-token\", response.data.token);\n          window.location.replace('/ChoixCrypto');\n        }).catch(err => {\n          alert(err)\n        })\n    }).catch(error =>{\n      alert(error)\n    })\n  }\n\n  insertData(nonce){\n    axios.get('http://wp.ruvictor.com/api/user/register/?username='+this.state.username+'&email='+this.state.email+'&password='+this.state.password)\n    .then(res => {\n    }).catch(error => {\n      console.log(error.response)\n  });\n  }\n\n  getWPnonce(){\n    axios.get('http://wp.ruvictor.com/api/get_nonce/?controller=user&method=register')\n    .then(res => {\n      this.insertData(res.data.nonce);\n    }).catch(error => {\n      console.log(error.response)\n  });\n  }\n\n  render(){\n    console.log(this.state)\n    return (\n      <div className=\"wrapper\">\n          <div className=\"form-wrapper\">\n            <h1>Create Account</h1>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"username\">\n          <label htmlFor=\"exampleInputEmail1\">Nom d'utilisateur</label>\n          <input name=\"username\" value={this.state.username} onChange={this.handleChange} type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Votre Nom\" />\n          </div>\n          <div className=\"email\">\n          <label htmlFor=\"exampleInputEmail1\">Adresse Mail</label>\n          <input name=\"email\" value={this.state.email} onChange={this.handleChange} type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Adresse email\" />\n          </div>\n          <div className=\"password\">\n          <label htmlFor=\"exampleInputPassword1\">Mot de Passe</label>\n          <input name=\"password\" type=\"password\" value={this.state.password} onChange={this.handleChange}  className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Mot De passe\" />\n          </div>\n          <div className=\"password\">\n          <label htmlFor=\"exampleInputPassword2\">Confirmer Mot de passe</label>\n          <input name=\"display_name2\" type=\"password\" onChange={this.handleConfirmPassword}  className=\"form-control\" id=\"exampleInputPassword2\" placeholder=\"Mot de passe\" />\n          </div>\n         \n          <div className=\"currency\">\n          <label htmlFor=\"exampleInputEmail1\">Devise</label>\n          <input name=\"currency\" value={this.state.currency} onChange={this.handleChange} type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter Devise\" />\n          </div>\n          <div className=\"createAccount\">\n            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n          </div>\n          \n        </form>\n        <Facebook/>\n      </div>\n      </div>\n      \n    );\n  }\n}\nexport default Register;"]},"metadata":{},"sourceType":"module"}