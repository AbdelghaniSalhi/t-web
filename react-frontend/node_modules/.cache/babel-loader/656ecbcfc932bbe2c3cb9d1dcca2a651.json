{"ast":null,"code":"import _classCallCheck from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import\"./assets/style.css\";import axios from'axios';import{Table}from'react-bootstrap';import Button from'react-bootstrap/Button';var arr=[];var ChoixCrypto=/*#__PURE__*/function(_Component){_inherits(ChoixCrypto,_Component);function ChoixCrypto(props){var _this;_classCallCheck(this,ChoixCrypto);_this=_possibleConstructorReturn(this,_getPrototypeOf(ChoixCrypto).call(this,props));_this.state={posts:[]};_this.state={posts:[]};_this.add=_this.add.bind(_assertThisInitialized(_this));return _this;}_createClass(ChoixCrypto,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:6200/cryptos/liste').then(function(response){console.log(response);_this2.setState({posts:response.data});}).catch(function(error){console.log(error);});}},{key:\"add\",value:function add(id){if(!arr.includes(id)){arr.push(id);}console.log(arr);}},{key:\"submit\",value:function submit(event){event.preventDefault();console.log(arr);axios.put('http://localhost:6200/users/profile',{cryptoCurrencies:arr},{headers:{\"auth-token\":localStorage.getItem(\"auth-token\")}}).then(function(response){alert(\"ajouté\");window.location.replace('/PrinOn');}).catch(function(err){alert(err);});//window.location.replace('/PrinOn');\n}},{key:\"render\",value:function render(){var _this3=this;var posts=this.state.posts;return React.createElement(\"div\",{className:\"wrapper\"},React.createElement(\"div\",{className:\"f-wrapper\"},React.createElement(\"form\",{onSubmit:this.submit},React.createElement(\"p\",null),React.createElement(\"h1\",null,\"List of Cryptocurrencies \"),React.createElement(\"p\",null),React.createElement(\"p\",null),React.createElement(Table,{striped:true,bordered:true,hover:true,size:\"sm\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Name\"),React.createElement(\"th\",null,\"Symbol\"))),React.createElement(\"tbody\",null,posts.length?posts.map(function(post){return React.createElement(\"tr\",{key:post.symbole},React.createElement(\"td\",null,post.nom),React.createElement(\"td\",null,post.symbole),React.createElement(\"td\",null,React.createElement(Button,{onClick:_this3.add.bind(_this3,post.symbole),variant:\"secondary\"},\"Add\"),\" \"));}):null)),React.createElement(\"div\",{className:\"createAccount\"},React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Submit\")))));}}]);return ChoixCrypto;}(Component);export default ChoixCrypto;","map":{"version":3,"sources":["/Users/fatehoumitouche/Desktop/Epitech/T-WEB/t-web/react-frontend/src/ChoixCrypto.js"],"names":["React","Component","axios","Table","Button","arr","ChoixCrypto","props","state","posts","add","bind","get","then","response","console","log","setState","data","catch","error","id","includes","push","event","preventDefault","put","cryptoCurrencies","headers","localStorage","getItem","alert","window","location","replace","err","submit","length","map","post","symbole","nom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./assets/style.css\";\nimport axios from 'axios';\nimport {Table } from 'react-bootstrap';\nimport Button from 'react-bootstrap/Button';\nlet arr=[];\nclass ChoixCrypto extends Component {\n\n    constructor(props){\n       super(props);\n       this.state = {\n           posts:[]\n       };\n      \n       this.add = this.add.bind(this);\n    }\n    state ={\n        posts:[]\n    }\n\n    componentDidMount(){\n       axios.get('http://localhost:6200/cryptos/liste')\n       .then(response =>{\n           console.log(response)\n           this.setState({posts: response.data})\n       })\n       .catch(error=>{\n       console.log(error)\n       })\n       }\n\n    add(id){\n        if ( !arr.includes(id)){\n        arr.push(id);\n        }\n        console.log(arr)\n \n    }\n    submit(event){\n        event.preventDefault()\n        console.log(arr)\n        axios.put('http://localhost:6200/users/profile', {cryptoCurrencies:arr} ,{headers : {\"auth-token\": localStorage.getItem(\"auth-token\")}})\n        .then(response => {\n            alert(\"ajouté\");\n            window.location.replace('/PrinOn');\n    \n        }).catch(err => {\n            alert(err)\n        })\n        //window.location.replace('/PrinOn');\n    }\n       render(){\n       const { posts}=this.state\n       return(\n           <div className=\"wrapper\">\n               <div className=\"f-wrapper\"> \n               <form onSubmit={this.submit}>\n                    <p></p>\n                    <h1>List of Cryptocurrencies </h1>\n                    <p></p>\n                    <p></p>\n                \n                <Table striped bordered hover size=\"sm\">\n                        <thead>\n                            <tr>\n                                <th>Name</th>\n                                <th>Symbol</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        {\n                        posts.length ?\n                    \n                            posts.map(post=> <tr key={post.symbole}>\n                            <td>{post.nom}</td>\n                            <td>{post.symbole}</td>\n                            <td><Button onClick={this.add.bind(this, post.symbole)} variant=\"secondary\">Add</Button> </td>\n                            </tr>):\n                            null\n                            }   \n                        </tbody>\n                    </Table>\n                   \n                    <div className=\"createAccount\">\n            <button type=\"submit\"  className=\"btn btn-primary\" >Submit</button>\n          </div>\n                    </form>\n                </div>\n           </div>\n\n       )\n       }}\n       export default ChoixCrypto"]},"metadata":{},"sourceType":"module"}